# NodeCodeSync (NCS)

ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒæ§‹é€ ãƒ¬ãƒ™ãƒ«ã§åŒæ–¹å‘åŒæœŸã§ãã‚Œã°ã€ã“ã‚Œã‚‰ã®å•é¡Œã®å¤§éƒ¨åˆ†ã¯æ¶ˆæ»…ã—ã¾ã™ã€‚

## Code-Driven Visual Coding

åƒ•ã¯ã‚³ãƒ¼ãƒ‰ã‚’ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«åŒ–ã™ã‚‹ã®ã¯æ¥µã‚ã¦å¤§ãã„ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã¨æ€ã„ã¾ã™
Unreal Engine 
BP BT ãªã©ã®æˆåŠŸä¾‹ã¯æ¥µã‚ã¦ è‰¯ã„ä¾‹ãˆã§ã™

- éãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã¨ã®é€£æº
- BT ãªã©ã® ç›®çš„ã«ç‰¹åŒ–ã—ãŸ æ•´å½¢ 
- ç›´è¦³çš„åˆ¤æ–­ ã‚³ãƒ¼ãƒ‰ç†è§£ã®è£œåŠ©

å®Ÿéš›ç¾å ´ã§ã¯ ã“ã®mdã§ä½¿ã£ã¦ã‚‹ ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰å›³ã‚’ä½œã‚Š èªè­˜ã‚’å¼·åŒ–ã— å®Ÿè£…ã«è½ã¨ã™æ‰‹æ®µã‚‚ã‚ã‚Šã¾ã™

---

## ç¾å®Ÿã®ç—›æ‰‹

æˆ‘ã€…ã‚²ãƒ¼ãƒ æ¥­ç•Œã§æœ‰åãª 
Unreal Engine BluePrint
Unity Visual Script
ãªã©ã® ãƒ„ãƒ¼ãƒ«ã§ã¯ä»¥ä¸‹ã®æ¬ ç‚¹ã«ã‚ˆã‚Š æœ¬é ˜ãŒç™ºæ®å‡ºæ¥ãªã„ æˆ–ã¯ã‚³ã‚¹ãƒˆãŒå¢—å¤§ã™ã‚‹å•é¡ŒãŒã‚ã‚Šã¾ã™

1. ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã‚³ãƒ¼ãƒ‰ãŒåŒæ–¹å‘ã«å¤‰æ›ãŒå‡ºæ¥ãªã„
2. ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ¼ãƒ‰ ã® å·®åˆ†å•é¡Œ
3. ç¿»è¨³ã‚³ã‚¹ãƒˆ ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰è· å•é¡Œ
4. å­¦ç¿’ ã‚³ã‚¹ãƒˆå•é¡Œ
5. è¤‡é›‘ãªæ¡ä»¶åˆ†å²ã®ã€Œã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£åŒ–ã€ã¨å¯†åº¦å•é¡Œ
6. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã¨æ¤œç´¢æ€§ã®è„†å¼±æ€§
7. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹åŒ–
8. å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»APIã¨ã®çµ±åˆã‚³ã‚¹ãƒˆ

ç°¡å˜ã«è¨€ã„æ›ãˆã‚Œã°ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° ã¯ ã‚µãƒãƒ¼ãƒˆãŒå¼±ã„è¨€èª
ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆç”Ÿæ…‹ç³»ï¼‰ã€ãŒæ¥µã‚ã¦è²§å¼±ã§ã‚ã‚‹

ãŠå¯Ÿã—ã®ã¨ã†ã‚Š 1.ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã‚³ãƒ¼ãƒ‰ãŒåŒæ–¹å‘ã«å¤‰æ›ãŒã§ããŸãªã‚‰
2ï½8å…¨ã¦ã®å•é¡ŒãŒè§£æ±ºã—ã¾ã™

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç¾åœ¨åœ°

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ç¾åœ¨ C#ã®å…¨æ§‹æ–‡ ã¨ AST (abstract syntax tree) ãƒãƒ¼ãƒ‰ ã®åŒæ–¹å‘å¤‰æ›ã‚’å®Ÿç¾ã—ã¾ã—ãŸ
æœ€å°‘å¯†åº¦å˜ä½ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° ãŒå¯èƒ½ã§ã™ï¼ˆSyntaxFactoryã¯ä½¿ç”¨ã—ã¦ã¾ã›ã‚“ XMLé§†å‹•ã§ã™ï¼‰

ä»Šå¾Œãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚„GUIã‚’é§†ä½¿ã— æ•°å€¤èª¿æ•´ç‰¹åŒ– ã‚„ AIæŒ™å‹•èª¿æ•´ç‰¹åŒ–(BT) ãªã©ã‚’ å®Ÿè£…ã™ã‚‹è¦‹è¾¼ã¿ã§ã™

---

### *ã“ã“ã§ã¯ Unreal Engine BP ã® è§£æ±ºã¯ã—ã¦ã¾ã›ã‚“*

## èª¤è§£ã‚’é˜²ããŸã‚ã«
ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®æˆåŠŸä¾‹ Unreal Engine ã‚’ä½¿ã£ã¦æ¯”è¼ƒã‚„èªè­˜ã‚’çµ±ä¸€ã—ã¦ã¾ã™ãŒ
ã“ã“ã§ã¯ Unreal Engine BP å•é¡Œã¯è§£æ±ºå›°é›£ã¨åˆ¤æ–­ã—ã¦ã¾ã™

C++ãŠã‚ˆã³Unreal Engineã¯éå¸¸ã«å¼·åŠ›ãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’æŒã£ã¦ã„ã¾ã™ã€‚
ã—ã‹ã—è¨€èªè¨­è¨ˆã¨ãƒ„ãƒ¼ãƒ«è¨­è¨ˆã®æ€æƒ³ãŒç•°ãªã‚‹ãŸã‚ã€
Roslynã®ã‚ˆã†ãªåŒæ–¹å‘ç·¨é›†ãƒ¢ãƒ‡ãƒ«ã‚’ãã®ã¾ã¾é©ç”¨ã™ã‚‹ã®ã¯ç¾æ™‚ç‚¹ã§ã¯å›°é›£ã§ã™ã€‚

ã“ã“ã®è§£èª¬ã§æ–°ãŸãªã‚ã£ã¨é©šãã‚ˆã†ãªè§£æ±ºæ–¹æ³•ãŒç™ºè¦‹ã§ãã‚‹ã®ã‚’ç¥ˆã‚Šã¾ã™

---

## NCSã®ç™»å ´ã§ç¾å ´ã§èµ·ã“ã‚‹ã“ã¨ï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ Ã— ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ Ã— ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ ï¼‰

ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆBP/BT ãªã©ï¼‰ã¯å¼·åŠ›ã§ã™ãŒã€  
å®Ÿé‹ç”¨ã§ã¯å½¹å‰²ã®å¢ƒç•ŒãŒæ›–æ˜§ã«ãªã‚Šã‚„ã™ãã€åˆ¶ä½œä½“åˆ¶ã«æ­ªã¿ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚

### ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼å´
- è¨­è¨ˆãƒ»æŠ½è±¡åŒ–ãƒ»æœ€é©åŒ–ãƒ»ãƒ†ã‚¹ãƒˆã«é›†ä¸­
- å¾—æ„ã®ä¿å®ˆæ€§ ã§ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼å´ã«æ•°å€¤èª¿æ•´ã ã‘ã‚’å‡ºæ¥ã‚‹ãƒãƒ¼ãƒ‰ã‚‚ç”Ÿæˆå¯èƒ½
- ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã®å¤‰æ›´ã‚’å³C#ã§èª­ã‚ã‚‹
- C#ã§é›£èª­ã ã£ãŸã®ãŒ æ•¢ãˆã¦ãƒãƒ¼ãƒ‰ã§åˆ†ã‹ã‚Šã‚„ã™ããªã‚‹!

### ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼å´
- æœ¬å‘½ã® ã‚²ãƒ¼ãƒ ã®é¢ç™½ã•ã‚’è¿½æ±‚!
- å¤‰æ›´ã®å½±éŸ¿ç¯„å›²ãŒä¸é€æ˜ã§èª¿æ•´ãŒæ€–ã„å•é¡ŒãŒç„¡ããªã‚‹
- ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£ã¨ãŠã•ã‚‰ã°
- ã‹ã„ãŸã‚³ãƒ¼ãƒ‰ãŒC#è³‡ç”£ã«ãªã‚‹!

### ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰å´
- è¨­è¨ˆæ„å›³ã‚’ã‚³ãƒ¼ãƒ‰ã¨ãƒãƒ¼ãƒ‰ã®ä¸¡é¢ã§æŠŠæ¡ã§ãã‚‹
- è©¦ä½œâ†’å®Ÿè£…â†’æœ€é©åŒ–ã®å¾€å¾©ãŒé«˜é€ŸåŒ–
- èª¿æ•´ã¨æ§‹é€ è¨­è¨ˆã®æ©‹æ¸¡ã—å½¹ã¨ã—ã¦æœ€å¤§åŠ¹ç‡ã‚’ç™ºæ®ã§ãã‚‹

## çµæœã¨ã—ã¦

- Gitå·®åˆ†ãŒå–ã‚Œãªã„
- PRãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒé›£ã—ã„
- CIã‚„è‡ªå‹•ãƒ†ã‚¹ãƒˆã«ä¹—ã‚Šã«ãã„
- ã‚¢ã‚»ãƒƒãƒˆç ´æãƒªã‚¹ã‚¯ãŒã‚ã‚‹

ãªã©ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ã‚ˆãã‚ã‚‹å•é¡Œã‚’è§£æ±ºã—ã¾ã™

---

## NCSãŒä½œã‚‹æœªæ¥

ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒæœ€ã‚‚æ¥½ã«ã‚²ãƒ¼ãƒ ã‚’ä½œã‚Œã‚‹æœªæ¥ã‚’ç›®æŒ‡ã—ã¾ã™

---

# Core Architecture 

- **Model** : C# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆSingle Source of Truthï¼‰
- **Projection** : Unity ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ• UI
- **Transformer** : Roslyn åŒæ–¹å‘å¤‰æ›ãƒ¬ã‚¤ãƒ¤

ã‚³ãƒ¼ãƒ‰ãŒçœŸå®Ÿã€‚
ãƒãƒ¼ãƒ‰ã¯æŠ•å½±ã€‚  

## Projectional Editing ã«ä¼¼ã¦ã‚‹ãŒã€ç•°ãªã‚‹

æ—¢å­˜ã® Projectional Editor ã¯ AST ã‚’ç›´æ¥æ“ä½œã—ã¾ã™ã€‚  
ãƒ†ã‚­ã‚¹ãƒˆã¯å‰¯ç”£ç‰©ã§ã™ã€‚

NCSã¯ç•°ãªã‚‹ç«‹å ´ã‚’å–ã‚Šã¾ã™ã€‚

- Roslyn ã‚’ä¸­æ ¸ã«æ®ãˆ
- C# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¬¬ä¸€ç´šå¸‚æ°‘ã¨ã—ã¦æ‰±ã„
- ãƒãƒ¼ãƒ‰ã¨ã‚³ãƒ¼ãƒ‰ã‚’åŒæ–¹å‘åŒæœŸã•ã›ã‚‹

---

## Parser-Backed Bidirectional Code â†” Node Sync

| | Projectional Editing | NCS |
|---|----------------------|-----|
| çœŸå®Ÿã®æ‰€åœ¨ | AST | C# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ |
| ãƒ‘ãƒ¼ã‚µãƒ¼ | ä¸è¦ | Roslyn |
| ç·¨é›†æ–¹å‘ | AST â†’ ç”»é¢ | Code â†” Node |
| æ°¸ç¶šåŒ– | ç‹¬è‡ªå½¢å¼ | `.cs`ï¼ˆGitç®¡ç†å¯èƒ½ï¼‰ |

> `.cs` ãƒ•ã‚¡ã‚¤ãƒ«ãŒç¬¬ä¸€ç´šå¸‚æ°‘ã§ã‚ã‚Šç¶šã‘ã‚‹ã€‚

---

## Architecture Overview

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   NodeToCodeConverter     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  C# Source  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  Node Graph  â”‚
â”‚  (.cs file) â”‚                           â”‚  (GraphView) â”‚
â”‚             â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   ParseText() â†’ NodeMeta  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  Roslyn AST  (Debugç”¨ã®ã¿)
```

---

## Schema-Driven Design

Roslyn ã®å…¨æ§‹æ–‡ãƒãƒ¼ãƒ‰å®šç¾©ã® XML ã‹ã‚‰æ§‹ç¯‰ã—ã¦ã¾ã™ã€‚


## é¥ã‹æœªæ¥å›³

ä»Šå¾Œ XML ã®æŠ½è±¡åŒ–
ãƒãƒ¼ãƒ‰ ã®æŠ½è±¡åŒ–
ãƒ‘ãƒ¼ã‚µãƒ¼ ã®æŠ½è±¡åŒ–
ãªã©ã‚’è¡Œã„åºƒç¯„å›²ã®è¨€èªã«å¯¾å¿œã§ãã‚‹ã®ã‚’æœŸå¾…ã—ã¾ã™

ãŠèª­ã¿ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ (\_ \_)

## Tech Stack

- Unity 6000.3+
- Unity UI Toolkit
- Unity GraphView
- Microsoft Roslyn Syntax API
- UPM Package

---

## Status

ğŸš§ Early Development  
MIT License